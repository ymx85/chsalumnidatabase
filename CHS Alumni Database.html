<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #093c94; -webkit-text-stroke: #093c94}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b; min-height: 16.0px}
    span.s1 {font-kerning: none; background-color: #ecf1f7}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #ecf1f7; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #ecf1f7; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #000000; background-color: #ecf1f7; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; background-color: #ecf1f7; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #6b0001; background-color: #ecf1f7; -webkit-text-stroke: 0px #6b0001}
    span.s7 {font-kerning: none; color: #093c94; background-color: #ecf1f7; -webkit-text-stroke: 0px #093c94}
    span.s8 {font-kerning: none; color: #137646; background-color: #ecf1f7; -webkit-text-stroke: 0px #137646}
    span.s9 {font-kerning: none; color: #4d5055; background-color: #ecf1f7; -webkit-text-stroke: 0px #4d5055}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #18702b; background-color: #ecf1f7; -webkit-text-stroke: 0px #18702b}
    span.s12 {font-kerning: none; color: #6f0ec3; background-color: #ecf1f7; -webkit-text-stroke: 0px #6f0ec3}
    span.s13 {font-kerning: none; color: #0e6e6d; background-color: #ecf1f7; -webkit-text-stroke: 0px #0e6e6d}
    span.s14 {font-kerning: none; color: #a4450b; background-color: #ecf1f7; -webkit-text-stroke: 0px #a4450b}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">CHS Alumni Database</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Load Tailwind CSS --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom styles for the modal overlay and backdrop */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-overlay</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s7">fixed</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s8">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s8">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s8">100%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s8">100%</span><span class="s1">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> </span><span class="s7">rgba(</span><span class="s8">0</span><span class="s4">, </span><span class="s8">0</span><span class="s4">, </span><span class="s8">0</span><span class="s4">, </span><span class="s8">0.85</span><span class="s7">)</span><span class="s4">; </span><span class="s1">/* Darker background */</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s4"> </span><span class="s7">none</span><span class="s4">; </span><span class="s1">/* Hidden by default */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s7">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s7">center</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s8">1000</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s7">blur(</span><span class="s8">8px</span><span class="s7">)</span><span class="s4">; </span><span class="s9">/* More blur */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-backdrop-filter:</span><span class="s4"> </span><span class="s7">blur(</span><span class="s8">8px</span><span class="s7">)</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s8">20px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Animation for the modal content */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-content-animated</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s7">scale(</span><span class="s8">0.9</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s8">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s7">all</span><span class="s1"> </span><span class="s8">0.4s</span><span class="s1"> </span><span class="s7">cubic-bezier(</span><span class="s8">0.25</span><span class="s1">, </span><span class="s8">0.8</span><span class="s1">, </span><span class="s8">0.25</span><span class="s1">, </span><span class="s8">1</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-content-animated.show</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s7">scale(</span><span class="s8">1</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s8">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Apply Inter font */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s11">'Inter'</span><span class="s1">, </span><span class="s7">sans-serif</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s7">#f0f4f8</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Ensure modal content is scrollable on small screens */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-content</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-height:</span><span class="s1"> </span><span class="s8">90vh</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow-y:</span><span class="s1"> </span><span class="s7">auto</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for navigation buttons */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.nav-button</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s7">absolute</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s8">1010</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s8">0.75rem</span><span class="s1">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s8">9999px</span><span class="s4">; </span><span class="s1">/* Full rounded */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> </span><span class="s7">rgba(</span><span class="s8">255</span><span class="s1">, </span><span class="s8">255</span><span class="s1">, </span><span class="s8">255</span><span class="s1">, </span><span class="s8">0.2</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s7">white</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s1">background-color</span><span class="s4"> </span><span class="s8">0.15s</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s8">0</span><span class="s1"> </span><span class="s8">4px</span><span class="s1"> </span><span class="s8">10px</span><span class="s1"> </span><span class="s7">rgba(</span><span class="s8">0</span><span class="s1">,</span><span class="s8">0</span><span class="s1">,</span><span class="s8">0</span><span class="s1">,</span><span class="s8">0.3</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.nav-button:hover</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> </span><span class="s7">rgba(</span><span class="s8">255</span><span class="s1">, </span><span class="s8">255</span><span class="s1">, </span><span class="s8">255</span><span class="s1">, </span><span class="s8">0.4</span><span class="s7">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Hide buttons on extra small screens for cleaner mobile view */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>@</span><span class="s6">media</span><span class="s1"> (</span><span class="s6">max-width:</span><span class="s1"> 640</span><span class="s6">px</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>.nav-button {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s8">0.5rem</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom utility for fixed width span to align stats data */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.w-28</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s8">7rem</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 sm:p-8"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"max-w-7xl mx-auto"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl sm:text-4xl font-extrabold text-center mb-6 text-gray-800"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>CHS Alumni Database</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- CLASS YEAR TABS --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"class-year-tabs"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-center space-x-2 sm:space-x-4 mb-6 p-1 bg-white rounded-xl shadow-lg"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Tabs will be injected here --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- FILTERS --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-wrap justify-center gap-4 mb-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"major-filter"</span><span class="s4"> </span><span class="s2">onchange</span><span class="s3">=</span><span class="s1">"window.renderGrid(window.currentClassYear)"</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 text-gray-700"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Filter by Major...</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Options injected by JS --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"college-filter"</span><span class="s4"> </span><span class="s2">onchange</span><span class="s3">=</span><span class="s1">"window.renderGrid(window.currentClassYear)"</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 text-gray-700"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">""</span><span class="s3">&gt;</span><span class="s1">Filter by College...</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Options injected by JS --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- PROFILE GRID CONTAINER --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"profile-grid"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Cards will be injected here by JavaScript --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- NO RESULTS MESSAGE --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"no-results-message"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden text-center p-10 bg-white rounded-xl shadow-lg mt-8"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-xl font-semibold text-gray-600"</span><span class="s3">&gt;</span><span class="s1">No alumni profiles match the current filter selection.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-md text-gray-500 mt-2"</span><span class="s3">&gt;</span><span class="s1">Try resetting your filters or selecting a different class year.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- MODAL POPUP STRUCTURE --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"profile-modal-overlay"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal-overlay"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"closeModal(event)"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Navigation Buttons Container (relative to overlay) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"relative flex items-center justify-center w-full h-full"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Left Arrow Button --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"prev-profile-btn"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"showPreviousProfile(event)"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-button left-4 lg:left-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-8 h-8"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"3"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M15 19l-7-7 7-7"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Modal Content Container --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"profile-modal-content"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal-content modal-content-animated bg-white p-6 sm:p-10 rounded-xl shadow-2xl max-w-3xl w-full m-4"</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                 </span></span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"event.stopPropagation()"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Close Button --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"closeModal()"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition duration-150 p-1 rounded-full bg-gray-50 hover:bg-gray-100"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-6 h-6"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M6 18L18 6M6 6l12 12"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Profile Header (Updated to put Socials next to Name) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6 mb-6 pb-4 border-b"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">img</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-image"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-24 h-24 rounded-full object-cover shadow-lg border-4 border-indigo-500"</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">""</span><span class="s4"> </span><span class="s2">alt</span><span class="s3">=</span><span class="s1">"Profile Image"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center sm:text-left flex-grow"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col sm:flex-row items-center sm:justify-start space-y-2 sm:space-y-0 sm:space-x-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-name"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-extrabold text-gray-900"</span><span class="s3">&gt;&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">&lt;!-- Social Links Section (Moved next to Name) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"social-links-container"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex space-x-3"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s1">&lt;!-- Social links injected here --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-college"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl text-indigo-600 font-semibold mt-1"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-major"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-md text-pink-600 font-medium mt-1"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Advice for Applying (Remains Top Section) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-8 p-4 bg-indigo-50 rounded-xl shadow-inner border border-indigo-200"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold text-indigo-800 border-b border-indigo-300 pb-2 mb-3"</span><span class="s3">&gt;</span><span class="s4">Advice for Applying</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-bio"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-indigo-700 leading-relaxed italic mb-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center space-x-3"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"listen-advice-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center px-4 py-2 bg-pink-500 text-white font-semibold rounded-full shadow-lg hover:bg-pink-600 transition duration-200 disabled:bg-pink-300 text-sm"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-4 h-4 mr-2"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H5a2 2 0 01-2-2V9a2 2 0 012-2h.586l4.707-4.707A1 1 0 0112 4v16a1 1 0 01-1.707.707L5.586 15z"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"tts-button-text"</span><span class="s3">&gt;</span><span class="s1">Listen to Advice</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">audio</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"audio-player"</span><span class="s4"> </span><span class="s2">controls</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden w-full"</span><span class="s3">&gt;&lt;/</span><span class="s6">audio</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tts-error-message"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-red-500 text-sm mt-2 hidden"</span><span class="s3">&gt;</span><span class="s4">Error generating audio.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid md:grid-cols-2 gap-8"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">&lt;!-- Column 1: Academic Stats, Recommenders, &amp; Activities/Leadership --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Academic Heading --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold text-gray-800 border-b pb-2 mb-4"</span><span class="s3">&gt;</span><span class="s4">Academic</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Stats (Header deleted, data kept) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 p-4 rounded-lg shadow-inner mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm text-gray-700"</span><span class="s3">&gt;&lt;</span><span class="s6">strong</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-28 inline-block"</span><span class="s3">&gt;</span><span class="s4">GPA: (W):</span><span class="s3">&lt;/</span><span class="s6">strong</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-gpa-w"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-medium"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm text-gray-700"</span><span class="s3">&gt;&lt;</span><span class="s6">strong</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-28 inline-block"</span><span class="s3">&gt;</span><span class="s4">SAT:</span><span class="s3">&lt;/</span><span class="s6">strong</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-sat"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm text-gray-700"</span><span class="s3">&gt;&lt;</span><span class="s6">strong</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-28 inline-block"</span><span class="s3">&gt;</span><span class="s4">ACT:</span><span class="s3">&lt;/</span><span class="s6">strong</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-act"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Recommenders (MOVED HERE, BLACK HEADER) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold text-gray-900 border-b pb-2 mb-4 mt-8"</span><span class="s3">&gt;</span><span class="s4">Recommenders</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blue-50 p-4 rounded-lg shadow-inner mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">ul</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-recommenders"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-2 text-gray-700"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s1">&lt;!-- Recommender list injected here --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">ul</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Activities/Leadership --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold text-gray-800 border-b pb-2 mb-4"</span><span class="s3">&gt;</span><span class="s4">Activities/Leadership</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">ul</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-extracurriculars"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"list-disc list-inside space-y-1 text-gray-600 ml-4 mb-8"</span><span class="s3">&gt;&lt;/</span><span class="s6">ul</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">&lt;!-- Column 2: School Experience --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Current School Experience (MOVED HERE) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-bold text-gray-800 border-b pb-2 mb-4"</span><span class="s3">&gt;</span><span class="s4">Current School Experience</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Experience Star Ratings --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-experience"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-3 bg-gray-50 p-4 rounded-lg shadow-inner mb-6"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">&lt;!-- Star ratings injected here --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Right Arrow Button --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-profile-btn"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"showNextProfile(event)"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"nav-button right-4 lg:right-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-8 h-8"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s4"> </span><span class="s2">xmlns</span><span class="s3">=</span><span class="s1">"http://www.w3.org/2000/svg"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"3"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M9 5l7 7-7 7"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"module"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Import Firebase components (needed for auth context)</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s12">import</span><span class="s4"> { initializeApp } </span><span class="s12">from</span><span class="s4"> </span><span class="s1">"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">import</span><span class="s1"> { getAuth, signInAnonymously, signInWithCustomToken } </span><span class="s12">from</span><span class="s1"> </span><span class="s11">"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js"</span><span class="s1">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s12">import</span><span class="s4"> { getFirestore, setLogLevel } </span><span class="s12">from</span><span class="s4"> </span><span class="s1">"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"</span><span class="s4">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- GLOBAL VARIABLES (FROM CANVAS ENVIRONMENT) ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> firebaseConfig = </span><span class="s12">typeof</span><span class="s1"> __firebase_config !== </span><span class="s11">'undefined'</span><span class="s1"> ? </span><span class="s13">JSON</span><span class="s1">.parse(__firebase_config) : </span><span class="s12">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> initialAuthToken = </span><span class="s12">typeof</span><span class="s1"> __initial_auth_token !== </span><span class="s11">'undefined'</span><span class="s1"> ? __initial_auth_token : </span><span class="s12">null</span><span class="s1">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s4"> apiKey = </span><span class="s11">""</span><span class="s4">; </span><span class="s1">// API key is left empty as per instructions</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- GLOBAL STATE &amp; DOM ELEMENTS ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.currentClassYear = </span><span class="s11">'2026'</span><span class="s1">; </span><span class="s9">// Default to newest class year</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span>window.filteredProfiles = []; </span><span class="s1">// Store the currently displayed profiles for filtering and navigation</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> currentProfileIndex = -</span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> grid = document.getElementById(</span><span class="s11">'profile-grid'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> modalOverlay = document.getElementById(</span><span class="s11">'profile-modal-overlay'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> modalContent = document.getElementById(</span><span class="s11">'profile-modal-content'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> majorFilterSelect = document.getElementById(</span><span class="s11">'major-filter'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> collegeFilterSelect = document.getElementById(</span><span class="s11">'college-filter'</span><span class="s1">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- MOCK PROFILE DATA (Updated for new fields and GPA format) ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> alumniData = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">'2026'</span><span class="s1">: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">9</span><span class="s1">, name: </span><span class="s11">"Emily Perez"</span><span class="s1">, college: </span><span class="s11">"Bryn Mawr College"</span><span class="s1">, major: </span><span class="s11">"Political Science"</span><span class="s1">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/A0522D/FFFFFF?text=EP"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Emily is studying political theory and constitutional law. She is heavily involved in campus activism and debate."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Be authentic! Don't try to guess what the admissions officers want to hear. Write about what truly matters to you."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'3.7'</span><span class="s1">, sat: </span><span class="s11">'1380'</span><span class="s1">, act: </span><span class="s11">'N/A'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Ms. Harrison"</span><span class="s1">, relation: </span><span class="s11">"AP History Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mr. Jones"</span><span class="s1">, relation: </span><span class="s11">"Debate Coach"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Mock Trial President'</span><span class="s4">, </span><span class="s1">'Debate Team'</span><span class="s4">, </span><span class="s1">'Student Advocacy Group'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">3</span><span class="s1">, weather: </span><span class="s14">4</span><span class="s1">, rigor: </span><span class="s14">4</span><span class="s1">, overall: </span><span class="s14">4</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"emily-perez-polisci"</span><span class="s1">, github: </span><span class="s11">""</span><span class="s1">, other: </span><span class="s11">"https://twitter.com/emilypolitics"</span><span class="s1"> }<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">'2025'</span><span class="s1">: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">8</span><span class="s4">, name: </span><span class="s1">"Kyle Nguyen"</span><span class="s4">, college: </span><span class="s1">"Princeton University"</span><span class="s4">, major: </span><span class="s1">"Electrical Engineering"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/9370DB/000000?text=KN"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Kyle is focused on circuit design and renewable energy systems. He secured an internship at a tech firm the summer after his freshman year."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Show passion and genuine curiosity in your applications. Colleges look for students who will contribute uniquely, not just academically."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.4'</span><span class="s1">, sat: </span><span class="s11">'1550'</span><span class="s1">, act: </span><span class="s11">'34'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Dr. Chen"</span><span class="s1">, relation: </span><span class="s11">"AP Physics Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mrs. Smith"</span><span class="s1">, relation: </span><span class="s11">"Science Bowl Advisor"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s11">'Science Bowl Captain'</span><span class="s1">, </span><span class="s11">'Tech Club'</span><span class="s1">, </span><span class="s11">'Volleyball'</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">4.5</span><span class="s1">, weather: </span><span class="s14">3.5</span><span class="s1">, rigor: </span><span class="s14">5</span><span class="s1">, overall: </span><span class="s14">4.5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"kyle-nguyen-ee"</span><span class="s1">, github: </span><span class="s11">"knguyen-circuits"</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">'2024'</span><span class="s1">: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">1</span><span class="s4">, name: </span><span class="s1">"Avery Chen"</span><span class="s4">, college: </span><span class="s1">"California State University"</span><span class="s4">, major: </span><span class="s1">"Computer Science"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/77DD77/000000?text=AC"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Avery is heading to CSU to focus on AI and machine learning. She was heavily involved in the Robotics Club and served as the VP of the STEM Honor Society."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Don't be afraid to reach out to current students for an honest view of the campus culture. It's the best way to see if the school is a true fit for you."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.3'</span><span class="s1">, sat: </span><span class="s11">'1450'</span><span class="s1">, act: </span><span class="s11">'N/A'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mr. Miller"</span><span class="s1">, relation: </span><span class="s11">"Math Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Ms. Diaz"</span><span class="s1">, relation: </span><span class="s11">"Robotics Advisor"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Robotics Club VP'</span><span class="s4">, </span><span class="s1">'STEM Honor Society VP'</span><span class="s4">, </span><span class="s1">'Varsity Soccer (4 years)'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">3.5</span><span class="s1">, weather: </span><span class="s14">4</span><span class="s1">, rigor: </span><span class="s14">5</span><span class="s1">, overall: </span><span class="s14">4.5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"avery-chen-ai"</span><span class="s1">, github: </span><span class="s11">"avery-c"</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">2</span><span class="s4">, name: </span><span class="s1">"Omar Hassan"</span><span class="s4">, college: </span><span class="s1">"University of Texas at Austin"</span><span class="s4">, major: </span><span class="s1">"Mechanical Engineering"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/ADD8E6/000000?text=OH"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Omar will pursue Mechanical Engineering with a minor in Aerospace. He is passionate about sustainable design."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Start your application essays early—it gives you time to step away and come back with fresh eyes. A rushed essay is easy to spot!"</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.5'</span><span class="s1">, sat: </span><span class="s11">'1580'</span><span class="s1">, act: </span><span class="s11">'35'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Dr. Evans"</span><span class="s1">, relation: </span><span class="s11">"AP Calculus Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Coach Riley"</span><span class="s1">, relation: </span><span class="s11">"Debate Coach"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Debate Team Captain (4 years)'</span><span class="s4">, </span><span class="s1">'Model UN'</span><span class="s4">, </span><span class="s1">'Stage Crew Chief'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">4.5</span><span class="s1">, weather: </span><span class="s14">4.5</span><span class="s1">, rigor: </span><span class="s14">5</span><span class="s1">, overall: </span><span class="s14">5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"omar-hassan-eng"</span><span class="s1">, github: </span><span class="s11">""</span><span class="s1">, other: </span><span class="s11">"https://personalblog.com/omar"</span><span class="s1"> }<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">3</span><span class="s1">, name: </span><span class="s11">"Jasmine Reed"</span><span class="s1">, college: </span><span class="s11">"NYU"</span><span class="s1">, major: </span><span class="s11">"Film Production"</span><span class="s1">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/F08080/000000?text=JR"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Jasmine plans to use her creative talents at NYU’s Tisch School of the Arts. Her senior film project was selected for a local student film festival."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"For creative majors, your portfolio is often more important than your GPA. Spend time perfecting the work you submit!"</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'3.9'</span><span class="s1">, sat: </span><span class="s11">'N/A'</span><span class="s1">, act: </span><span class="s11">'30'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Ms. Lopez"</span><span class="s1">, relation: </span><span class="s11">"English Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mr. Kim"</span><span class="s1">, relation: </span><span class="s11">"Film Club Advisor"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Film Club President'</span><span class="s4">, </span><span class="s1">'School Newspaper Editor'</span><span class="s4">, </span><span class="s1">'Student Council'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">5</span><span class="s1">, weather: </span><span class="s14">3</span><span class="s1">, rigor: </span><span class="s14">4</span><span class="s1">, overall: </span><span class="s14">4.5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">""</span><span class="s1">, github: </span><span class="s11">""</span><span class="s1">, other: </span><span class="s11">"https://vimeo.com/jasminefilms"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">'2023'</span><span class="s1">: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">4</span><span class="s1">, name: </span><span class="s11">"Maria Garcia"</span><span class="s1">, college: </span><span class="s11">"Harvard University"</span><span class="s1">, major: </span><span class="s11">"Economics"</span><span class="s1">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/98FF98/000000?text=MG"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Maria is thriving in her economics program, focusing on global market trends. She's involved in the campus investment club."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"The most successful applicants show passion, not just participation. Find one or two things you genuinely love and dive deep!"</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.8'</span><span class="s1">, sat: </span><span class="s11">'1600'</span><span class="s1">, act: </span><span class="s11">'36'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mr. Wang"</span><span class="s1">, relation: </span><span class="s11">"AP Economics Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Principal Johnson"</span><span class="s1">, relation: </span><span class="s11">"Administrator"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Math Team Captain'</span><span class="s4">, </span><span class="s1">'Student Body President'</span><span class="s4">, </span><span class="s1">'Habitat for Humanity'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">4</span><span class="s1">, weather: </span><span class="s14">3</span><span class="s1">, rigor: </span><span class="s14">5</span><span class="s1">, overall: </span><span class="s14">5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"maria-garcia-econ"</span><span class="s1">, github: </span><span class="s11">"mg-quant"</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">5</span><span class="s1">, name: </span><span class="s11">"David Kim"</span><span class="s1">, college: </span><span class="s11">"UC San Diego"</span><span class="s1">, major: </span><span class="s11">"Marine Biology"</span><span class="s1">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/FFA07A/000000?text=DK"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"David is studying the ocean on the beautiful California coast. He spends his weekends doing field research at the Scripps Institution of Oceanography."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Don't be discouraged by rejection. College applications are a lottery. Find a school where you know you'll be happy, even if it wasn't your first choice."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.2'</span><span class="s1">, sat: </span><span class="s11">'1420'</span><span class="s1">, act: </span><span class="s11">'N/A'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Ms. Green"</span><span class="s1">, relation: </span><span class="s11">"Biology Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Coach Lee"</span><span class="s1">, relation: </span><span class="s11">"Water Polo Coach"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Ocean Conservation Club'</span><span class="s4">, </span><span class="s1">'Varsity Water Polo'</span><span class="s4">, </span><span class="s1">'Science Olympiad'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">3</span><span class="s1">, weather: </span><span class="s14">5</span><span class="s1">, rigor: </span><span class="s14">4</span><span class="s1">, overall: </span><span class="s14">4</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"david-kim-marine"</span><span class="s1">, github: </span><span class="s11">""</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">'2022'</span><span class="s1">: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">6</span><span class="s1">, name: </span><span class="s11">"Sarah Lee"</span><span class="s1">, college: </span><span class="s11">"University of Washington"</span><span class="s1">, major: </span><span class="s11">"Architecture"</span><span class="s1">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/ADD8E6/000000?text=SL"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Sarah is halfway through her architecture degree and loves the collaborative studio environment. She is currently working on designs for sustainable city housing."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Your application story needs to be cohesive. Every piece—essays, activities, recommendations—should point to a single, compelling personal narrative."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.1'</span><span class="s1">, sat: </span><span class="s11">'1480'</span><span class="s1">, act: </span><span class="s11">'33'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mrs. Perez"</span><span class="s1">, relation: </span><span class="s11">"Art History Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Mr. Adams"</span><span class="s1">, relation: </span><span class="s11">"Guidance Counselor"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Yearbook Design Editor'</span><span class="s4">, </span><span class="s1">'Architecture Club Founder'</span><span class="s4">, </span><span class="s1">'Volunteer Tutor'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">3.5</span><span class="s1">, weather: </span><span class="s14">2.5</span><span class="s1">, rigor: </span><span class="s14">4.5</span><span class="s1">, overall: </span><span class="s14">4</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"sarah-lee-arch"</span><span class="s1">, github: </span><span class="s11">""</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>id: </span><span class="s14">7</span><span class="s4">, name: </span><span class="s1">"Ben Carter"</span><span class="s4">, college: </span><span class="s1">"Purdue University"</span><span class="s4">, major: </span><span class="s1">"Mechanical Engineering"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>image: </span><span class="s1">"https://placehold.co/100x100/FFD700/000000?text=BC"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>bio: </span><span class="s1">"Ben is specializing in thermal sciences. He recommends spending a lot of time visiting campuses before making a decision."</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>advice: </span><span class="s1">"Visit the colleges you are seriously considering. You need to see the environment and feel the atmosphere to know if it's right for you."</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stats: { gpa_w: </span><span class="s11">'4.6'</span><span class="s1">, sat: </span><span class="s11">'1520'</span><span class="s1">, act: </span><span class="s11">'34'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>recommenders: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Dr. Nguyen"</span><span class="s1">, relation: </span><span class="s11">"AP Chemistry Teacher"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{ name: </span><span class="s11">"Coach Davies"</span><span class="s1">, relation: </span><span class="s11">"Track Coach"</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>],</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>extracurriculars: [</span><span class="s1">'Robotics Team'</span><span class="s4">, </span><span class="s1">'Varsity Track'</span><span class="s4">, </span><span class="s1">'Investment Club'</span><span class="s4">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>experience: { food: </span><span class="s14">4</span><span class="s1">, weather: </span><span class="s14">3</span><span class="s1">, rigor: </span><span class="s14">5</span><span class="s1">, overall: </span><span class="s14">4.5</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>socials: { linkedin: </span><span class="s11">"ben-carter-me"</span><span class="s1">, github: </span><span class="s11">"bencart"</span><span class="s1">, other: </span><span class="s11">""</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>]</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- TTS &amp; STAR UTILITIES (Unchanged) ---</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/** Converts Base64 string to ArrayBuffer. */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> base64ToArrayBuffer(base64) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> binaryString = atob(base64);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> len = binaryString.length;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> bytes = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Uint8Array</span><span class="s1">(len);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> (</span><span class="s12">let</span><span class="s1"> i = </span><span class="s14">0</span><span class="s1">; i &lt; len; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>bytes[i] = binaryString.charCodeAt(i);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> bytes.buffer;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/** Converts PCM audio data to a WAV Blob. */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> pcmToWav(pcm16, sampleRate) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> numChannels = </span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> bytesPerSample = </span><span class="s14">2</span><span class="s1">; </span><span class="s9">// 16-bit PCM</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> byteRate = numChannels * sampleRate * bytesPerSample;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> blockAlign = numChannels * bytesPerSample;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> buffer = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">ArrayBuffer</span><span class="s1">(</span><span class="s14">44</span><span class="s1"> + pcm16.length * bytesPerSample);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> view = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">DataView</span><span class="s1">(buffer);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// RIFF chunk descriptor</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>writeString(view, </span><span class="s14">0</span><span class="s1">, </span><span class="s11">'RIFF'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint32(</span><span class="s14">4</span><span class="s1">, </span><span class="s14">36</span><span class="s1"> + pcm16.length * bytesPerSample, </span><span class="s12">true</span><span class="s1">); </span><span class="s9">// ChunkSize</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>writeString(view, </span><span class="s14">8</span><span class="s1">, </span><span class="s11">'WAVE'</span><span class="s1">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// FMT sub-chunk</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>writeString(view, </span><span class="s14">12</span><span class="s1">, </span><span class="s11">'fmt '</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint32(</span><span class="s14">16</span><span class="s1">, </span><span class="s14">16</span><span class="s1">, </span><span class="s12">true</span><span class="s1">); </span><span class="s9">// Subchunk1Size (16 for PCM)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint16(</span><span class="s14">20</span><span class="s1">, </span><span class="s14">1</span><span class="s1">, </span><span class="s12">true</span><span class="s1">);<span class="Apple-converted-space">  </span></span><span class="s9">// AudioFormat (1 for PCM)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint16(</span><span class="s14">22</span><span class="s1">, numChannels, </span><span class="s12">true</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint32(</span><span class="s14">24</span><span class="s1">, sampleRate, </span><span class="s12">true</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint32(</span><span class="s14">28</span><span class="s1">, byteRate, </span><span class="s12">true</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint16(</span><span class="s14">32</span><span class="s1">, blockAlign, </span><span class="s12">true</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint16(</span><span class="s14">34</span><span class="s1">, </span><span class="s14">16</span><span class="s1">, </span><span class="s12">true</span><span class="s1">); </span><span class="s9">// BitsPerSample (16)</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Data sub-chunk</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>writeString(view, </span><span class="s14">36</span><span class="s1">, </span><span class="s11">'data'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>view.setUint32(</span><span class="s14">40</span><span class="s1">, pcm16.length * bytesPerSample, </span><span class="s12">true</span><span class="s1">); </span><span class="s9">// Subchunk2Size</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Write the PCM data</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> offset = </span><span class="s14">44</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> (</span><span class="s12">let</span><span class="s1"> i = </span><span class="s14">0</span><span class="s1">; i &lt; pcm16.length; i++, offset += bytesPerSample) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>view.setInt16(offset, pcm16[i], </span><span class="s12">true</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Blob</span><span class="s1">([buffer], { type: </span><span class="s11">'audio/wav'</span><span class="s1"> });</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">function</span><span class="s1"> writeString(view, offset, string) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">for</span><span class="s1"> (</span><span class="s12">let</span><span class="s1"> i = </span><span class="s14">0</span><span class="s1">; i &lt; string.length; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>view.setUint8(offset + i, string.charCodeAt(i));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Generates and plays the TTS audio advice.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">async</span><span class="s1"> </span><span class="s12">function</span><span class="s1"> generateAndPlayAdvice(adviceText) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> button = document.getElementById(</span><span class="s11">'listen-advice-btn'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> audioPlayer = document.getElementById(</span><span class="s11">'audio-player'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> errorMsg = document.getElementById(</span><span class="s11">'tts-error-message'</span><span class="s1">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>errorMsg.classList.add(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>audioPlayer.classList.add(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>audioPlayer.pause();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>audioPlayer.src = </span><span class="s11">""</span><span class="s1">; </span><span class="s9">// Clear old source</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> originalButtonText = button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>button.disabled = </span><span class="s12">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent = </span><span class="s11">'Generating Audio...'</span><span class="s1">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s4"> apiUrl = </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=</span><span class="s4">${apiKey}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> userQuery = </span><span class="s11">`Say in a friendly, encouraging tone: </span><span class="s1">${adviceText}</span><span class="s11">`</span><span class="s1">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> payload = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>contents: [{ parts: [{ text: userQuery }] }],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>generationConfig: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>responseModalities: [</span><span class="s11">"AUDIO"</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>speechConfig: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>voiceConfig: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>prebuiltVoiceConfig: { voiceName: </span><span class="s11">"Puck"</span><span class="s1"> } </span><span class="s9">// Upbeat voice</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>model: </span><span class="s1">"gemini-2.5-flash-preview-tts"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Implementation of exponential backoff for API calls</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> </span><span class="s13">MAX_RETRIES</span><span class="s1"> = </span><span class="s14">5</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> currentRetry = </span><span class="s14">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> response;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">while</span><span class="s1"> (currentRetry &lt; </span><span class="s13">MAX_RETRIES</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">try</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>response = </span><span class="s12">await</span><span class="s1"> fetch(apiUrl, {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>method: </span><span class="s11">'POST'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>headers: { </span><span class="s11">'Content-Type'</span><span class="s1">: </span><span class="s11">'application/json'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>body: </span><span class="s13">JSON</span><span class="s1">.stringify(payload)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (response.status === </span><span class="s14">429</span><span class="s1"> || response.status &gt;= </span><span class="s14">500</span><span class="s1">) {</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Rate limit or server error - retry</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>currentRetry++;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s12">const</span><span class="s1"> delay = </span><span class="s13">Math</span><span class="s1">.pow(</span><span class="s14">2</span><span class="s1">, currentRetry) * </span><span class="s14">1000</span><span class="s1"> + </span><span class="s13">Math</span><span class="s1">.random() * </span><span class="s14">1000</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s12">await</span><span class="s1"> </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Promise</span><span class="s1">(resolve =&gt; setTimeout(resolve, delay));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s12">continue</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (!response.ok) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s12">throw</span><span class="s1"> </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Error</span><span class="s1">(</span><span class="s11">`API call failed with status: </span><span class="s1">${response.status}</span><span class="s11">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">break</span><span class="s4">; </span><span class="s1">// Exit loop on success or non-retriable error</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s12">catch</span><span class="s1"> (error) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (currentRetry === </span><span class="s13">MAX_RETRIES</span><span class="s1"> - </span><span class="s14">1</span><span class="s1">) {</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s12">throw</span><span class="s4"> error; </span><span class="s1">// Re-throw the error on the final attempt</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>currentRetry++;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> delay = </span><span class="s13">Math</span><span class="s1">.pow(</span><span class="s14">2</span><span class="s1">, currentRetry) * </span><span class="s14">1000</span><span class="s1"> + </span><span class="s13">Math</span><span class="s1">.random() * </span><span class="s14">1000</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">await</span><span class="s1"> </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Promise</span><span class="s1">(resolve =&gt; setTimeout(resolve, delay));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check if we exhausted retries without a successful response</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (!response || !response.ok) {</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Restore button text and re-enable it on error</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent = originalButtonText;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>button.disabled = </span><span class="s12">false</span><span class="s1">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>errorMsg.textContent = </span><span class="s1">"Failed to get response after multiple retries."</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>errorMsg.classList.remove(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">try</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> result = </span><span class="s12">await</span><span class="s1"> response.json();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> part = result?.candidates?.[</span><span class="s14">0</span><span class="s1">]?.content?.parts?.[</span><span class="s14">0</span><span class="s1">];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> audioData = part?.inlineData?.data;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> mimeType = part?.inlineData?.mimeType;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> (audioData &amp;&amp; mimeType &amp;&amp; mimeType.startsWith(</span><span class="s11">"audio/"</span><span class="s1">)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> sampleRateMatch = mimeType.match(</span><span class="s6">/rate=(\d+)/</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> sampleRate = sampleRateMatch ? parseInt(sampleRateMatch[</span><span class="s14">1</span><span class="s1">], </span><span class="s14">10</span><span class="s1">) : </span><span class="s14">16000</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> pcmData = base64ToArrayBuffer(audioData);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> pcm16 = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Int16Array</span><span class="s1">(pcmData);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> wavBlob = pcmToWav(pcm16, sampleRate);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>audioPlayer.src = </span><span class="s13">URL</span><span class="s1">.createObjectURL(wavBlob);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>audioPlayer.classList.remove(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>audioPlayer.play();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent = </span><span class="s11">'Playback Ready'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s12">else</span><span class="s1"> {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">throw</span><span class="s4"> </span><span class="s12">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s4">(</span><span class="s1">"No audio data returned from API."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">catch</span><span class="s1"> (error) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>console.error(</span><span class="s11">"TTS Error:"</span><span class="s1">, error);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>errorMsg.textContent = </span><span class="s11">`Error: </span><span class="s1">${error.message}</span><span class="s11">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>errorMsg.classList.remove(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">finally</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>button.disabled = </span><span class="s12">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1">(button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent === </span><span class="s11">'Generating Audio...'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>button.querySelector(</span><span class="s11">'#tts-button-text'</span><span class="s1">).textContent = originalButtonText;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Generates an SVG string for a star rating.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> renderStars(rating) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> starsHtml = </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> (</span><span class="s12">let</span><span class="s1"> i = </span><span class="s14">1</span><span class="s1">; i &lt;= </span><span class="s14">5</span><span class="s1">; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">let</span><span class="s1"> colorClass = </span><span class="s11">'text-gray-300'</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> (i &lt;= </span><span class="s13">Math</span><span class="s1">.floor(rating)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>colorClass = </span><span class="s11">'text-yellow-400'</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s12">else</span><span class="s1"> </span><span class="s12">if</span><span class="s1"> (i === </span><span class="s13">Math</span><span class="s1">.ceil(rating) &amp;&amp; (rating % </span><span class="s14">1</span><span class="s1"> !== </span><span class="s14">0</span><span class="s1">)) {</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// This logic handles half stars visually by checking the rating value</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (rating === i - </span><span class="s14">0.5</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                         </span>colorClass = </span><span class="s11">'text-yellow-400'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>} </span><span class="s12">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>colorClass = </span><span class="s11">'text-gray-300'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> starSvg = </span><span class="s11">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 </span><span class="s4">${colorClass}</span><span class="s1"> inline-block" fill="currentColor" viewBox="0 0 20 20"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.817 2.042a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.817-2.042a1 1 0 00-1.175 0l-2.817 2.042c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>starsHtml += starSvg;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> starsHtml;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Renders the star rating SVGs for a specific experience item.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> renderExperienceItem(title, rating) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> starHtml = renderStars(rating);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> </span><span class="s11">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-center py-2 border-b last:border-b-0"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;span class="font-medium text-gray-700"&gt;</span><span class="s4">${title}</span><span class="s1">:&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</span><span class="s4">${starHtml}</span><span class="s1"> &lt;span class="text-sm font-bold text-yellow-600 ml-2"&gt;(</span><span class="s4">${rating}</span><span class="s1">)&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- FILTERING &amp; GRID FUNCTIONS (Unchanged) ---</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Extracts unique majors and colleges from the current year's data and populates the filter dropdowns.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> populateFilters(year) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> profiles = alumniData[year] || [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> majors = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Set</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> colleges = </span><span class="s12">new</span><span class="s1"> </span><span class="s13">Set</span><span class="s1">();</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>profiles.forEach(p =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>majors.add(p.major);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>colleges.add(p.college);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Major Filter</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> currentMajor = majorFilterSelect.value;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>majorFilterSelect.innerHTML = </span><span class="s1">'&lt;option value=""&gt;Filter by Major...&lt;/option&gt;'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>[...majors].sort().forEach(major =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> selected = major === currentMajor ? </span><span class="s11">'selected'</span><span class="s1"> : </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>majorFilterSelect.innerHTML += </span><span class="s11">`&lt;option value="</span><span class="s1">${major}</span><span class="s11">" </span><span class="s1">${selected}</span><span class="s11">&gt;</span><span class="s1">${major}</span><span class="s11">&lt;/option&gt;`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate College Filter</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> currentCollege = collegeFilterSelect.value;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>collegeFilterSelect.innerHTML = </span><span class="s1">'&lt;option value=""&gt;Filter by College...&lt;/option&gt;'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>[...colleges].sort().forEach(college =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> selected = college === currentCollege ? </span><span class="s11">'selected'</span><span class="s1"> : </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>collegeFilterSelect.innerHTML += </span><span class="s11">`&lt;option value="</span><span class="s1">${college}</span><span class="s11">" </span><span class="s1">${selected}</span><span class="s11">&gt;</span><span class="s1">${college}</span><span class="s11">&lt;/option&gt;`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Renders the main grid based on the selected class year and filters.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Made globally accessible via window.renderGrid</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.renderGrid = </span><span class="s12">function</span><span class="s1">(year) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>window.currentClassYear = year;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> majorFilter = majorFilterSelect.value;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> collegeFilter = collegeFilterSelect.value;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> allProfilesForYear = alumniData[year] || [];</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 1. Populate filters based on ALL profiles for the year (so no filter options disappear)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>populateFilters(year);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 2. Apply filters</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>window.filteredProfiles = allProfilesForYear.filter(p =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> majorMatch = !majorFilter || p.major === majorFilter;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> collegeMatch = !collegeFilter || p.college === collegeFilter;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">return</span><span class="s1"> majorMatch &amp;&amp; collegeMatch;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 3. Render cards</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>grid.innerHTML = window.filteredProfiles.map(createProfileCard).join(</span><span class="s11">''</span><span class="s1">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Show/Hide no results message</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> noResults = document.getElementById(</span><span class="s11">'no-results-message'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (window.filteredProfiles.length === </span><span class="s14">0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>noResults.classList.remove(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>noResults.classList.add(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 4. Re-attach click listeners</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.querySelectorAll(</span><span class="s11">'.profile-card'</span><span class="s1">).forEach(card =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>card.addEventListener(</span><span class="s11">'click'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> id = parseInt(e.currentTarget.getAttribute(</span><span class="s11">'data-id'</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> profile = window.filteredProfiles.find(p =&gt; p.id === id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">const</span><span class="s1"> index = window.filteredProfiles.findIndex(p =&gt; p.id === id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (profile) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>displayProfile(profile, index);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 5. Update tab styling</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.querySelectorAll(</span><span class="s11">'.tab-button'</span><span class="s1">).forEach(btn =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> (btn.getAttribute(</span><span class="s11">'data-year'</span><span class="s1">) === year) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>btn.classList.add(</span><span class="s11">'bg-indigo-600'</span><span class="s1">, </span><span class="s11">'text-white'</span><span class="s1">, </span><span class="s11">'shadow-md'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>btn.classList.remove(</span><span class="s11">'bg-gray-100'</span><span class="s1">, </span><span class="s11">'text-gray-700'</span><span class="s1">, </span><span class="s11">'hover:bg-gray-200'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s12">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>btn.classList.remove(</span><span class="s11">'bg-indigo-600'</span><span class="s1">, </span><span class="s11">'text-white'</span><span class="s1">, </span><span class="s11">'shadow-md'</span><span class="s1">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span>btn.classList.add(</span><span class="s1">'bg-gray-100'</span><span class="s4">, </span><span class="s1">'text-gray-700'</span><span class="s4">, </span><span class="s1">'hover:bg-gray-200'</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Generates the HTML for a single profile card.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> createProfileCard(profile) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> </span><span class="s11">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>class="profile-card bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 transform hover:scale-[1.03] cursor-pointer border-t-8 border-indigo-600/70"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>data-id="</span><span class="s4">${profile.id}</span><span class="s1">"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-4 mb-4"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;img<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>src="</span><span class="s4">${profile.image}</span><span class="s1">"<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>onerror="this.onerror=null; this.src='https://placehold.co/100x100/D1E8E2/000000?text=Profile';"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>alt="</span><span class="s4">${profile.name}</span><span class="s1">"<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>class="w-16 h-16 rounded-full object-cover shadow-md border border-gray-200"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xl font-bold text-gray-900"&gt;</span><span class="s4">${profile.name}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-indigo-700 font-medium"&gt;</span><span class="s4">${profile.college}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p10"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-1 text-sm"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-600"&gt;&lt;strong&gt;Major:&lt;/strong&gt; &lt;span class="text-pink-600 font-medium"&gt;</span><span class="s4">${profile.major}</span><span class="s1">&lt;/span&gt;&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Helper function to create a clickable social media link button with an SVG icon.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> createSocialLink(type, username) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (!username) </span><span class="s12">return</span><span class="s1"> </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> url = </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> icon = </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> color = </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (type === </span><span class="s11">'linkedin'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>url = </span><span class="s11">`https://www.linkedin.com/in/</span><span class="s1">${username}</span><span class="s11">`</span><span class="s1">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>icon = </span><span class="s1">`&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"&gt;&lt;path d="M22.23 0H1.77C.79 0 0 .77 0 1.73V22.27C0 23.23.79 24 1.77 24H22.23C23.21 24 24 23.23 24 22.27V1.73C24 .77 23.21 0 22.23 0zM7.18 20.35H3.61V8.65H7.18V20.35zM5.39 7.18c-1.16 0-1.89-.78-1.89-1.76 0-.96.7-1.74 1.85-1.74 1.15 0 1.9.78 1.9 1.74 0 .98-.74 1.76-1.86 1.76zm13.19 13.17H16.8V14.12c0-1.48-.52-2.48-1.85-2.48-1 0-1.58.68-1.85 1.34v6.62H9.55V8.65h3.33v1.44c.45-.7.96-1.28 2.01-1.28 2.72 0 4.75 1.78 4.75 5.61v6.07z"/&gt;&lt;/svg&gt;`</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>color = </span><span class="s1">'bg-blue-600 hover:bg-blue-700'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">else</span><span class="s1"> </span><span class="s12">if</span><span class="s1"> (type === </span><span class="s11">'github'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>url = </span><span class="s11">`https://github.com/</span><span class="s1">${username}</span><span class="s11">`</span><span class="s1">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>icon = </span><span class="s1">`&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"&gt;&lt;path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.8 8.21 11.38.6.11.82-.26.82-.57V20.3c-3.33.72-4.04-1.61-4.04-1.61-.54-1.37-1.32-1.74-1.32-1.74-1.08-.74.08-.73.08-.73 1.2.08 1.83 1.23 1.83 1.23 1.07 1.83 2.81 1.3 3.49 1 .11-.78.42-1.3.76-1.59-2.66-.3-5.46-1.33-5.46-5.92 0-1.3.46-2.36 1.23-3.2-.12-.3-.54-1.52.12-3.18 0 0 1-.32 3.3.47 1.05-.29 2.16-.44 3.28-.44s2.23.15 3.28.44c2.3-1.8 3.3-.47 3.3-.47.66 1.66.24 2.88.12 3.18.78.84 1.23 1.9 1.23 3.2 0 4.6-2.8 5.6-5.46 5.92.42.36.81 1.09.81 2.2V23.7c0 .31.22.68.82.57C20.565 21.8 24 17.31 24 12c0-6.63-5.37-12-12-12z"/&gt;&lt;/svg&gt;`</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>color = </span><span class="s1">'bg-gray-800 hover:bg-gray-900'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">else</span><span class="s1"> </span><span class="s12">if</span><span class="s1"> (type === </span><span class="s11">'other'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>url = username;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">// Link Icon</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>icon = </span><span class="s1">`&lt;svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /&gt;&lt;/svg&gt;`</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>color = </span><span class="s1">'bg-pink-500 hover:bg-pink-600'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s4"> </span><span class="s1">`&lt;a href="</span><span class="s4">${url}</span><span class="s1">" target="_blank" class="p-2 </span><span class="s4">${color}</span><span class="s1"> text-white rounded-full transition duration-150 transform hover:scale-105 shadow-md flex items-center justify-center" aria-label="</span><span class="s4">${type}</span><span class="s1"> profile"&gt;</span><span class="s4">${icon}</span><span class="s1">&lt;/a&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Populates the modal with the selected profile's data.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> displayProfile(profile, index) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>currentProfileIndex = index;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">// Reset TTS</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'audio-player'</span><span class="s1">).classList.add(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'audio-player'</span><span class="s1">).pause();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'audio-player'</span><span class="s1">).src = </span><span class="s11">""</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'tts-button-text'</span><span class="s1">).textContent = </span><span class="s11">'Listen to Advice'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'listen-advice-btn'</span><span class="s1">).disabled = </span><span class="s12">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'tts-error-message'</span><span class="s1">).classList.add(</span><span class="s11">'hidden'</span><span class="s1">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 1. Remove 'show' class to reset transition state</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>modalContent.classList.remove(</span><span class="s11">'show'</span><span class="s1">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 2. Populate the modal content</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-image'</span><span class="s1">).src = profile.image;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-image'</span><span class="s1">).alt = profile.name;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-name'</span><span class="s1">).textContent = profile.name;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-college'</span><span class="s1">).textContent = </span><span class="s11">`</span><span class="s1">${profile.college}</span><span class="s11"> (Class of </span><span class="s1">${window.currentClassYear}</span><span class="s11">)`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-major'</span><span class="s1">).textContent = </span><span class="s11">`Major: </span><span class="s1">${profile.major}</span><span class="s11">`</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Advice (New Top Section)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-bio'</span><span class="s1">).textContent = profile.advice;<span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Socials (Connect with Alumni) - MOVED NEXT TO NAME</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> socialContainer = document.getElementById(</span><span class="s11">'social-links-container'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>socialContainer.innerHTML = createSocialLink(</span><span class="s11">'linkedin'</span><span class="s1">, profile.socials.linkedin) +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                        </span>createSocialLink(</span><span class="s11">'github'</span><span class="s1">, profile.socials.github) +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                        </span>createSocialLink(</span><span class="s11">'other'</span><span class="s1">, profile.socials.other);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Stats (Header deleted, data remains)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-gpa-w'</span><span class="s1">).textContent = profile.stats.gpa_w || </span><span class="s11">'N/A'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-sat'</span><span class="s1">).textContent = profile.stats.sat;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-act'</span><span class="s1">).textContent = profile.stats.act;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Recommenders (Now in Column 1, Black Header)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> recommendersContainer = document.getElementById(</span><span class="s11">'modal-recommenders'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>recommendersContainer.innerHTML = profile.recommenders.map(r =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">`&lt;li class="flex items-start space-x-2"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 text-indigo-500 flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"&gt;&lt;/path&gt;&lt;/svg&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="leading-snug"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;strong class="font-semibold"&gt;</span><span class="s4">${r.name}</span><span class="s1">&lt;/strong&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm block text-gray-500"&gt;(</span><span class="s4">${r.relation}</span><span class="s1">)&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/li&gt;`</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>).join(</span><span class="s11">''</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (profile.recommenders.length === </span><span class="s14">0</span><span class="s1">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>recommendersContainer.innerHTML = </span><span class="s1">`&lt;li class="text-gray-500 italic"&gt;No recommenders specified.&lt;/li&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Activities/Leadership</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s11">'modal-extracurriculars'</span><span class="s1">).innerHTML = profile.extracurriculars.map(e =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">`&lt;li&gt;</span><span class="s1">${e}</span><span class="s11">&lt;/li&gt;`</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>).join(</span><span class="s11">''</span><span class="s1">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Populate Experience Ratings</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> experienceContainer = document.getElementById(</span><span class="s11">'modal-experience'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>experienceContainer.innerHTML = [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderExperienceItem(</span><span class="s11">'Campus Food'</span><span class="s1">, profile.experience.food),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderExperienceItem(</span><span class="s11">'Weather'</span><span class="s1">, profile.experience.weather),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderExperienceItem(</span><span class="s11">'Academic Rigor'</span><span class="s1">, profile.experience.rigor),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderExperienceItem(</span><span class="s11">'Overall Experience'</span><span class="s1">, profile.experience.overall),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>].join(</span><span class="s11">''</span><span class="s1">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Set up TTS button action</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> ttsButton = document.getElementById(</span><span class="s11">'listen-advice-btn'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>ttsButton.onclick = (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>e.stopPropagation();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>generateAndPlayAdvice(profile.advice);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 3. Show modal with animation</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>modalOverlay.style.display = </span><span class="s11">'flex'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>requestAnimationFrame(() =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>modalContent.classList.add(</span><span class="s11">'show'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.body.style.overflow = </span><span class="s11">'hidden'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- NAVIGATION FUNCTIONS (Unchanged) ---</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Returns the current array of profiles visible in the grid.</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.getFilteredProfiles = </span><span class="s12">function</span><span class="s1">() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> window.filteredProfiles;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Made globally accessible via window.showNextProfile</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.showNextProfile = </span><span class="s12">function</span><span class="s1">(event) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (event) event.stopPropagation();<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> profiles = window.getFilteredProfiles();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (profiles.length === </span><span class="s14">0</span><span class="s1">) </span><span class="s12">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> nextIndex = currentProfileIndex + </span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (nextIndex &gt;= profiles.length) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>nextIndex = </span><span class="s14">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>displayProfile(profiles[nextIndex], nextIndex);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Made globally accessible via window.showPreviousProfile</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.showPreviousProfile = </span><span class="s12">function</span><span class="s1">(event) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (event) event.stopPropagation();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> profiles = window.getFilteredProfiles();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (profiles.length === </span><span class="s14">0</span><span class="s1">) </span><span class="s12">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> prevIndex = currentProfileIndex - </span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (prevIndex &lt; </span><span class="s14">0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>prevIndex = profiles.length - </span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>displayProfile(profiles[prevIndex], prevIndex);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">/**</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>* Made globally accessible via window.closeModal</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.closeModal = </span><span class="s12">function</span><span class="s1">(event) {</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Only close if clicking the backdrop or the close button</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (event &amp;&amp; event.target !== modalOverlay &amp;&amp; event.target !== document.querySelector(</span><span class="s11">'.modal-content-animated svg'</span><span class="s1">)) </span><span class="s12">return</span><span class="s1">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>modalContent.classList.remove(</span><span class="s11">'show'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>modalOverlay.style.display = </span><span class="s11">'none'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.body.style.overflow = </span><span class="s11">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>currentProfileIndex = -</span><span class="s14">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}, </span><span class="s14">400</span><span class="s1">);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- INITIALIZATION (Unchanged) ---</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">async</span><span class="s1"> </span><span class="s12">function</span><span class="s1"> initializeAuth() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> (!firebaseConfig) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>console.error(</span><span class="s11">"Firebase config is missing."</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">try</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> app = initializeApp(firebaseConfig);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> auth = getAuth(app);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// setLogLevel('debug'); // Uncomment for detailed Firebase logs</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> (initialAuthToken) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">await</span><span class="s1"> signInWithCustomToken(auth, initialAuthToken);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s12">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">await</span><span class="s1"> signInAnonymously(auth);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>console.log(</span><span class="s11">"Firebase Auth successful. User:"</span><span class="s1">, auth.currentUser.uid);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s12">catch</span><span class="s1"> (error) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>console.error(</span><span class="s11">"Firebase Auth failed:"</span><span class="s1">, error);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s11">'DOMContentLoaded'</span><span class="s1">, </span><span class="s12">async</span><span class="s1"> () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">await</span><span class="s1"> initializeAuth();</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 1. Render Class Year Tabs</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> tabContainer = document.getElementById(</span><span class="s11">'class-year-tabs'</span><span class="s1">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Sort years in reverse order (newest first)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> years = </span><span class="s13">Object</span><span class="s1">.keys(alumniData).sort((a, b) =&gt; b - a);<span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>tabContainer.innerHTML = years.map(year =&gt; </span><span class="s11">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>class="tab-button px-4 py-2 font-bold rounded-lg transition duration-200 text-sm sm:text-base"<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>data-year="</span><span class="s4">${year}</span><span class="s1">"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>onclick="renderGrid('</span><span class="s4">${year}</span><span class="s1">')"</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>Class of </span><span class="s4">${year}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">).join(</span><span class="s1">''</span><span class="s4">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 2. Render default year (latest year)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>window.renderGrid(years[</span><span class="s14">0</span><span class="s1">]);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 3. Add keyboard listener for navigation and closing</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.addEventListener(</span><span class="s11">'keydown'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> (modalOverlay.style.display === </span><span class="s11">'flex'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> (e.key === </span><span class="s11">'ArrowRight'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>showNextProfile();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>} </span><span class="s12">else</span><span class="s1"> </span><span class="s12">if</span><span class="s1"> (e.key === </span><span class="s11">'ArrowLeft'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>showPreviousProfile();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>} </span><span class="s12">else</span><span class="s1"> </span><span class="s12">if</span><span class="s1"> (e.key === </span><span class="s11">'Escape'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>closeModal();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
